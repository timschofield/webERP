<br /><br />
<a name="SalesOrders"><font size="+3"><b>Kundenauftr�ge</b></font></a>
<br /><br />
<font size="+2"><b>Funktionalit�t</b></font>
<br /><br />
<ul>
<li>Kundenauftr�ge k�nnen erfasst und bearbeitet und �ber die Kundenauftragsnummer angegeben werden.</li>
<li>Die Gesamtauftragsmenge f�r ein Lagermaterial wird als Bedarf in der Bestands�bersicht angezeigt.</li>
<li>Die Gesamtauftragsmenge f�r ein Sammelmaterial wird als Bedarf der zugeh�rigen Komponenten in der Bestands�bersicht angezeigt.</li>
<li>Die die noch zu fakturierende Auftragsmenge wird f�r jede einzelne Auftragsposition gepflegt.</li>
<li>Die erfassten Auftr�ge k�nnen direkt ohne oder mit nur geringf�gigen zus�tzlichen Eingaben fakturiert werden.</li>
<li>Zu einem Kundenauftrag sind mehrere Auslieferungen m�glich. Der Auftrag erh�lt einen Bezug zu jeder Lieferung.</li>
<li>Lieferdifferenzen werden immer dann aufgezeichnet, wenn Auslieferungen nicht der bestellten Menge entsprechen und mit einem DIFOT-Bericht (Delivery in full on time) ausgewertet.</li>
<li>Die Preise werden automatisch auf der Grundlage der Umsatzart/Preisliste, Niederlassung und W�hrung ermittelt.</li>
<li>Mengenabh�ngige Rabatte, auch �ber einen Bereich von Produkten werden automatisch auf der Grundlage der Rabattstaffeln berechnet.</li>
<li>Warenanh�nger / begleitscheine werden per Laserdrucker oder auf vorgedruckten Formularen erstellt.</li>
<li>Das Auslieferungslager ist vom Benutzer ausw�hlbar</li>
<li>Frei formatierbare Lieferanschrift, normalerweise die Stra�enadresse des Kunden.</li>
<li>Dauerauftr�ge, die bis zu einem vorgegebenen Endedatum mit einer Periodizit�t von bis zu einem Jahr wiederkehren.</li>
</ul>

<!-- Help Begin: SelectOrderItems -->

<font size="+2"><b>Kundenauftr�ge erfassen</b></font>
<br /><br />
Sie w�hlen Hauptmen� &rarr; Auftr�ge &rarr; Vorg�nge &rarr; Auftrag anlegen.
<br /><br />
<font size="+1"><b>Auswahl des Kunden und der Niederlassung</b></font>
<br /><br />
Zum Anfang zeigt die Seite zur Auftragserfassung Suchfelder f�r die Auswahl des Kunden und seiner Niederlassung. Der Kunde ist das Konto, auf das der Auftrag berechnet werden soll und die Niederlassung enth�lt alle Angaben �ber die Belieferung. Die Auswahl ist vergleichbar mit der Kundensuche, aber es werden nur solche Niederlassungen angezeigt, f�r die im Stammsatz Auftr�ge erlaubt sind. Die Suche kann entweder �ber Zeichenfolgen zur Kundennummer oder Teile zum Kundennamen erfolgen. Durch eine solche Suche wird die Anzahl der zur�ckgegebenen Datens�tze minimiert, um die Ausgaben m�glichs schnell (besonders bei einer W�hlverbindung) an den Benutzer zur�ckzugeben. Alle auf die Suchkriterien passenden, f�r Auftr�ge erlaubten Niederlassungen werden mit jeweils einer Drucktaste zur�clgegeben. Durch das Dr�cken der Taste f�r die gew�nschte Kundenniederlassung wird diese f�r die Erfassung des Kundenauftrages ausgew�hlt. Es gibt sp�ter noch die M�glichkeit, Lieferdetails abzu�ndern. Der Bildschirm zeigt nun die Schnellerfassung, �berschrieben mit dem Namen des Kunden und der Niederlassung und der Umsatzart des Kunden.
<br /><br />
<font size="+1"><b>Auswahl der Kundenauftragspositionen</b></font>
<br /><br />
Es gibt zwei M�glichkeiten, die Einzelposten f�r einen Auftrag auszuw�hlen.
<br /><br />
<ul>
<li>Als Vorgabe wird ein Schnellerfassungsbildschirm angezeigt, der die direkte Erfassung der Materialnummer und der Mengen f�r den Auftrag erlaubt. Die Anzahl der Zeilen f�r den Schnellerfassungsbildschirm kann in den Systemeinstellungen festgelegt werden. Wenn der Benutzer eine gewisse Anzahl von Positionen in die Schnellerfassung eingetragen hat, werden diese durch Dr�cken der Taste "Positionen erfassen" in den Auftrag �bernommen. Die Preise werden auf der Grundlage der Umsatzart/Preisliste, der W�hrung des Kunden, der Niederlassung und dem Kunden dieses Auftrages bestimmt. Falls die Anzahl Zeilen nicht ausreicht, um alle Materialien f�r den Auftrag zu erfassen, kann dieser Vorgang wiederholt werden, weil die Schnellerfassungsmaske unter den bereits erfassten Auftragspositionen eingabebereit ist.</li>
<li>Auf der Schnellerfassungsmaske gibt es auch eine Taste "Material suchen". Diese Taste erm�glicht es dem Benutzer, nach einem Material �ber die Warengruppe, die Materialnummer bzw. die -beschreibung zu suchen. Wenn Sie die "Suchen"-Taste dr�cken, nachdem Sie die entsprechenden Eingaben gemacht haben, werden die Materialien zusammen mit dem Bild des Materials - sofern es auf den Server hochgeladen wurde - angezeigt. Bilder m�ssen im jpeg-Format mit einem Dateinamen identisch mit der Materialnummer in das Verzeichnis, das in den Systemeinstellungen hinterlegt ist abgelegt werden. Die Materialien k�nnen �ber den Link "Diese bestellen" in den Kundenauftrag �bernommen werden. Weitere Materialien k�nnen auf die gleiche Weise ausgew�hlt werden.</li>
</ul>
Wenn Sie die Materialien f�r den Auftrag ausgew�hlt haben, ist es m�glich, die Mengen, Preise und m�glichen Rabatte f�r jede einzelne Auftragsposition zu bearbeiten. Um den Auftragswert zu aktualisieren, m�ssen Sie die Taste "Neu berechnen" anklicken (das ist ein Kompromiss wegen der serverseitigen Bearbeitung mit PHP gegen�ber einer Frontendseitigen Java-Bearbeitung). Rabatte werden �ber die Funktion der Rabattstaffel wie im entsprechenden Abschnitt beschrieben mit den eingegebenen Auftragsmengen berechnet.
<br /><br />
Wenn eine Position erfasst wird und die Anzeige vor einem roten Hintergrund erscheint, so bedeutet das, dass der Bestand f�r diese Postion in der Betriebsst�tte, von der die Kundenniederlassung �blicherweise beliefert wird, nicht ausreicht. Die angezeigte Materialnummer ist gleichzeitig ein Link zu einem neuen Browserfenster, in welchem der Bestandsstatus f�r das Material mit dem verf�gbaren Bestand f�r alle Lagerorte angezeigt wird.
<br /><br />
Eine Zeile kann jederzeit gel�scht werden, indem Sie den Link "L�schen" am Ende der Zeile anklicken.
<br /><br />
Die Erfassung des Auftrages kann jederzeit abgebrochen werden, indem Sie die Taste "Ganzen Auftrag stornieren" dr�cken.
<br /><br />
Der Kunde kann auch noch gewechselt werden, die Taste dazu erreichen Sie �ber die Taste "Material suchen"
<br /><br />
Wenn Sie alle Positionen ausgew�hlt haben, m�ssen Sie die Taste "Lieferangaben �bernehmen" anklicken. Beachten Sie, dass bisher noch keinerlei Daten in die Datenbank geschrieben wurden, sie sind bisher nur tempor�r auf dem Server abgelegt. Die Lieferangaben m�ssen zun�chst best�tigt werden, bevor der Auftrag gesichert werden kann.
<br /><br />
<font size="+1"><b>Lieferangaben</b></font>
<br /><br />
Normalerweise werden die Lieferangaben aus der Stra�enadresse der Kundenniederlassung �bernommen. Sie haben jedoch die M�glichkeit, diese Informationen auf diesem Bild zu �berschreiben. Die Informationen werden auf dem Lifernschein und der Rechnung ausgedruckt.
<br /><br />
Das Liefern-ab-Lager ist die Betriebstt�tte, von dem die Waren f�r die Kundenniederlassung �blicherweise beliefert werden. Es ist jedoch m�glich, eine andere Betriebsst�tte auszuw�hlen, wenn der Auftrag von anderswo beliefert werden soll.
<br /><br />
Die Nummer der Bestellung des Kunden sollte in das Feld Kundenreferenz eingetragen werden und es sollte auch die g�nstigste Versandart ausgew�hlt werden. Das System merkt sich die zuletzt f�r die Niederlassung verwendete Versandart
<br /><br />
Es ist m�glich, zu den Auftragspositionen zur�ckzugehen, um die auf dem Schirm Lieferangaben eingegebenen Daten zu bewerten, indem Sie auf die Taste "Auftragspositionen �ndern" klicken. Wenn das Liefern-ab-Lager ge�ndert wurden, wird der Lagerbestand in dieser neuen Betriebsst�tte gepr�ft. Die Farben der Positionen k�nnen sich dadurch ge�ndert haben.
<br /><br />
Wenn die automatische Frachtkostenberechnung benutzt wird (Vorgabe in den Systemeinstellungen) werden die Versandkosten auf der Grundlage des Gesamtgewichtes und des Gesamtvolumens berechnet. Die g�nstigste Versanart wird auch zur�ckgegeben. Der Benutzer kann sich entscheiden, die berechneten Versandkosten in Rechnung zu stellen oder die billigste Versandart auszuw�hlen. Die berechneten Versandkosten k�nnen �berschrieben werden.
<br /><br />
Wenn alle Angaben korrekt erfasst wurden, muss die Taste "Auftrag sichern" angeklickt werden. Es ist wichtig zu beachten, dass beim Verlassen des Auftrages ohne diese Taste zu dr�cken nichts in der Datenbank gespeichert wird. Wenn Sie auf ein anderes Bild klicken, verlieren Sie die eingegebenen Auftragsinformationen. Es ist durchaus m�glich, verschiedene Browserfenster mit unterschiedlichen Auswertungen zur selben Zeit offen zu haben. Es ist aber nicht m�glich, zwei Fenster zur Erfassung unterschiedlicher Kundenauftr�ge offen zu haben, die Angaben des einen Fensters w�rden die Angaben des anderen Fensters �berschreiben.

<!-- Help End: SelectOrderItems -->

<br /><br />

<!-- Help Begin: SelectSalesOrder -->

<font size="+1"><b>Kundenauftrag �ndern</b></font>
<br /><br />
Nur offene Kundenauftr�ge k�nnen ge�nder werden. Nur diese haben irgendwelche Mengen die noch zu beliefern und zu fakturieren sind. Auch k�nnen Auftragspositionen, die bereits vollst�ndig fakturiert sind, nicht mehr ge�ndert werden. Dem Auftrag k�nnen keine neuen Positionen hinzugef�gt werden. Wenn eine Teilmenge der Position bereits geliefert/fakturiert ist, kann auch der Preis nicht mehr ge�ndert werden. Mengen k�nnen nicht unter die bereits gelieferte Menge reduziert werden.
<br /><br />
Beachten Sie, dass die �nderung der Lieferadresse eines offenen Auftrages, zu dem schon Positionen geliefert und berechnet wurden, sich auf Wiederhol-Drucke der urspr�nglichen Rechnung auswirkt, es wird die ge�nderte Lieferanschrift ausgegeben. Deshalb ist die Ablage eines Ausdruckes der Originalrechnung vor der �nderung notwendig.
<br /><br />
<b>Offene Kundenauftr�ge suchen</b>
<br /><br />
Es gibt verschiedene M�glichkeiten:
<br /><br />
<ul>
<li>Wenn das bestellte Material bekannt ist, k�nnen Sie das Material �ber die Materialsuche ausw�hlen. Unter Materialauswertungen erscheint dann der Link "Offene Kundenauftr�ge suchen".</li>
<li>Wenn der Kunde bekannt ist, k�nnen Sie den Kunden �ber die Kundensuche ausw�hlen. Unter Kundenauswertungen erscheint dann der Link "offene Kundenauftr�ge suchen", wor�ber nur die offenen Auftr�ge dieses Kunden angezeigt werden.</li>
<li>Um alle offenen Kundenauftr�ge anzuzeigen, rufen Sie den Bildschirm "Offene Kundenauftr�ge suchen" �ber Hauptmen� &rarr; Auftr�ge &rarr; Vorg�nge &rarr; Kundenauftr�ge �ndern ohne die Angabe eines Kunden oder Materials auf und dr�cken auf "Alle anzeigen". Dieser Bildschirm bietet zudem die M�glichkeit, direkt nach einem Material zu suchen.</li>
</ul>
Die offenen Kundenauftr�ge werden je Betriebsst�tte angezeigt, die gew�nschte Betriebsst�tte kann auf diesem Bild ausgew�hlt werden, als Standard wird die Betriebsst�tte aus dem Stammsatz des Benutzers vorgegeben. Die Auftr�ge zu diesem Kriterium werden nur angezeigt, wenn Sie auf die Taste "Auftr�ge/Angebote suchen" klicken.
<br /><br />
Die angezeigten Auftr�ge haben jeweils Links zum Bearbeiten der Auftragspositionen (klicken Sie auf die Auftragsnummer), zum Fakturieren der Rechnung und zum Drucken der Lieferpapiere. Wenn der Lieferschein schon einmal gedruckt wurde, sollte der Link dies anzeigen, damit nicht versehentlich Lieferscheine mehrfach gedruckt und beliefert werden.
<br /><br />
<!-- Help End: SelectSalesOrder -->

<!-- Help Begin: Quotations -->
<font size="+1"><b>Angebote</b></font>
<br /><br />
Ein Angebot kann auf die gleiche Weise erfasst werden, wie ein Kundenauftrag. Sie kennzeichen es erst als Angebot, wenn Sie auf dem Bild Lieferangaben ganz unten "nur Angebot" ausw�hlen. Wenn dieses Kennzeichen gesetzt ist, k�nnen Sie ein PDF-Angebot erstellen, das Sie an den Kunden senden. Wenn diese Option ausgew�hlt ist, wird in der Auswertung Bestandsstatus auch kein Bedarf reserviert. Angebote k�nnen Sie auf dem Bild "Offene Kundenauftr�ge suchen" aufrufen, indem Sie "Nur Angebote" ausw�hlen. In diesem Falle bekommen Sie nur Angebote angezeigt. Mit dem Link zum Bearbeiten, k�nnen Sie das Angebot �ndern und wenn sich der Kunde entscheidet, zum Kundenauftrag umwandeln. Au�erdem gibt es einen Link, mit dem Sie das Angebot nochmals drucken k�nnen.
<br /><br />
Wenn Sie ein Angebot zum Kundenauftrag ge�ndert haben, ist die weitere Bearbeitung die gleiche wie oben f�r Kundenauftr�ge erl�utert, die Lieferpapiere k�nnen gedruckt werden und der Auftrag kann fakturiert werden.
<br /><br />
<!-- Help End: Quotations -->

<!-- Help Begin: RecurringSalesOrder -->
<font size="+1"><b>Dauerauftr�ge</b></font>
<br /><br />
Auftr�ge k�nnen als mit einer bestimmten Periodizit�t wiederkehrend erfasst werden:
<ul>
<li>w�chentlich</li>
<li>vierzehnt�gig</li>
<li>monatlich</li>
<li>zweimonatlich</li>
<li>viertelj�hlich</li>
<li>halbj�hrlich</li>
<li>j�hrlich</li>
</ul>
<br /><br />
Wenn der Auftrag nur Dummymaterialien als Positionen enth�lt (d. h. solche, die nicht mit einer physischen Bestandsbewegung durch das Lagerpersonal verbunden sind - z. B. Jahresgeb�hren f�r das Hosten eine Webseite), kann der Auftrag auch zum automatische Fakturieren gekennzeichnet werden.
<br /><br />
Das Anlegen eines Dauerauftrages geschieht von der normalen Auftragserfassung aus - Positionen erfassen, dann Lieferangaben. Sie w�hlen lediglich am Ende nicht "Auftrag sichern" sondern "Dauerauftrag anlegen". Daraufhin erscheint ein Bild f�r die Erfassung von:
<br />
<ul>
<li>Abstand der Ausf�hrung</li>
<li>Anfangsdatum - wenn der Auftrag zum ersten Mal ausgef�hrt wird</li>
<li>Endedatum - nach welchem der Auftrag nicht mehr ausgef�hrt werden soll.</li>
<li>Wenn alle Auftragspositionen Dummymaterialien betreffen, wird auch die Option "Automatisch fakturieren" angezeigt.</li>
</ul>
<br /><br />
Es ist m�glich, die angelegten Dauerauftr�ge anzuzeigen, das erreichen Sie �ber Hauptmen� &rarr; Auftr�ge &rarr; Vorg�nge &rarr; Dauerauftrag-Vorlage w�hlen. Dort w�hlen Sie die Betriebsst�tte aus und dr�cken "Dauerauftr�ge suchen", worauf alle Dauerauftr�ge aufgelistet werden, die von der Betriebsst�tte zu beliefern sind.
<br /><br />
Aus diesem Bild ist es auch m�glich, den Dauerauftrag zu �ndern. Die Positionen des Auftrages k�nnen nicht ge�ndert werden, lediglich die H�ufigkeit und das Endedatum. Wenn Positionen ge�ndert werden m�ssen, kann der Dauerauftrag gel�scht und ein neuer Dauerauftrag angelegt werden.
<br /><br />
Die eigentlichen Kundenauftr�ge werden mit dem Skript RecurringSalesOrderProcess.php aus den Dauerauftrags-Vorlagen angelegt werden. Dieses Programm geht alle Dauerauftr�ge (Vorlagen) durch und legt erforderlichenfalls Kundenauftr�ge an. Dabei werden das aktuelle Datum das Datum der letzten Ausf�hrung und der Abstand der Ausf�hrung ber�cksichtigt. Das Datum der letzten Ausf�hrung wird dabei im Dauerauftrag um die Anzahl Tage zwischen den Ausf�hrungen erh�ht. Ebenso wird eine Email erstellt und an die in der Betriebsst�tte hinterlegten Kontakadresse gesendet. Die Email teilt mit, dass ein Auftrag angelegt wurde, die Auftragsnummer und wenn der Auftrag automatisch fakturiert wurde. Idealerweise wird dieses Skript t�glich zeitgesteuert aufgerufen, es ist aber auch �ber Hauptmen� &rarr; Auftr�ge &rarr; Vorg�nge &rarr; Dauerauftr�ge verarbeiten erreichbar. Es kann so oft aufgerufen werden, wie Sie wollen, und legt immer nur die notwendigen Kundenauftr�ge an, ohne fehlerhafte Wiederholungen.
<br /><br />
<!-- Help End: RecurringSalesOrder -->
