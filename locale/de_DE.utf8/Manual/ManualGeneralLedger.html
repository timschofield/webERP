<br /><br />
<a name="GeneralLedger"><font size="+3"><b>Hauptbuchhaltung</b></font></a>
<br /><br />
<font size="+2"><b>�berblick</b></font>
<br /><br />
Die Hauptbuchhaltung ist der zentrale Buchhaltungsbereich f�r die Nebenb�cher f�r die Lieferanten (Kreditoren), Kunden (Debitoren) und Materialien (Best�nde). Alle Buchungen in den Nebenb�chern werden auch im Hauptbuch durch Buchungen abgebildet. Durch die Einstellungen zur Integration wird festgelegt, wie die Buchungen in den Nebenbuchhaltungen im Hauptbuch abgebildet werden. Die meisten Vorg�nge im Hauptbuch werden automatich durch die Aktivit�ten in den Nebenb�chern der Debitoren, Kreditoren und Bestandsf�hrung angelegt.
<br /><br />
Daneben gibt es au�erdem die M�glichkeiten:
<br /><br />
<ul>
<li>Zahlungseing�nge gegen vordefinierte Bankkonten zu erfassen.</li>
<li>Ausgangszahlungen von vordefinierten Bankkonten zu erfassen.</li>
<li>Hauptbuch-Buchungen zwischen allen m�glichen Hauptbuchkonten - au�er den Bankkonten - zu erfassen. Diese k�nnen auch automatisch in der folgenden Periode wieder storniert werden. Ferner k�nnen Hauptbuchbuchungen auch f�r zur�ckliegende oder auch zuk�nftige Perioden erfasst werden. Die Periode wird aus dem eingegebenen Buchungsdatum automatisch abgeleitet.</li>
<li>Auswertungen zu den Hauptbuchkonten erlauben ausgehend von den Salden den Drill-Down bis zu den  einzelnen Buchungen.</li>
<li>Auswertungen entlang der Bilanz-/GuV-Struktur f�r jedes Periodenende in der Vergangenheit oder den augenblichlichen Stand.</li>
</ul>

<!-- Help Begin: AccountGroups -->

<font size="+2"><b>Kontengruppen</b></font>
<br /><br />
Die Kontengruppe ist die �bergeordntete Gruppierung der Hauptbuchkonten (Parentobjekt - f�r diejenigen, die etwas von objektorientierter Programmierung verstehen). Die angelegten Konten erben die Eigenschaften von der Kontengruppe, d. h. das Konto wird ein Erfolgskonto, wenn die Kontengruppe der Gewinn- und Verlustrechnung zugeordnet ist. Andernfalls, wenn die Kontengruppe der Bilanz zugeordnet ist, werden die Konten in der Bilanzstruktur in der durch die Kontengruppen-Reihenfolge bestimmten Folge als Bestandskonto dargestellt.
<br /><br />
Durch ein Nummernsystem wird die M�glichkeit verhindert, das Format der Bilanzstruktur zu manipulieren, d. h. sie k�nnen die Kontonummer nicht mehr �ndern, z. B.
<br /><br />
10100 Motorausgaben Kopenhagen
<br /><br />
10110 Motorausgaben Den Haag
<br /><br />
10120 Motorausgaben Amsterdam
<br /><br />
w�re gro�artig, aber wenn Sie eine Umstrukturierung darstellen wollten, um Werte zusammen darzustellen, m��ten Sie die Nummerierung �ndern. In web-erp ist alles, was dazu n�tig ist, die �nderung der Kontengruppe. Im ersten Beispiel h�tten wir eine Kontengruppe f�r Motorausgaben und diese Konten w�rden als der Kontengruppe zugeh�rig festgelegt werden. Wir k�nnen entscheiden, an welcher Stelle die Kontengruppe in der Bilanzstruktur dargestellt wird, indem wir den Eintrag Reihenfolge in der Bilanzstruktur �ndern. Alle Konten einer Kontengruppe werden zusammen angezeigt. Wenn wir uns entschlie�en wollten, die Ausaben von Den Haag als separate Kostenposition darzustellen, k�nnten wir eine Kontengruppe f�r die Kosten Den Haag erstellen - oder was immer - und das Konto 10110 als Mitglied dieser Gruppe zuordnen.
<br /><br />
Kontengruppen ben�tigen eine Reihenfolge in der Bilanzstruktur sowie die Angabe, ob es sich um GuV- oder Bilanzkonten handelt.
<br /><br />
Ein Bilanzkonto (oder Bestandskonto) ist eines, bei dem nur der Saldo am Ende der Periode von Bedeutung ist. Ein GuV-Konto (oder Erfolgskonto) ist eines, bei dem die Bewegungen im Laufe der Periode von Bedeutung sind, Insofern sind f�r die Motorausgaben die im Laufe der Periode ausgegeben wurde von Interesse, beim Bankkonto ist es der Kontostand. Wie angegeben vererbt die Kontengruppe ihre Eigenschaften auf die Konten, d. h. Wenn die Kontengruppe zur Bilanz geh�rt, sind auch alle Konten unter dieser Gruppe Bilanzkonten.

<!-- Help End: AccountGroups -->

<br /><br />

<!-- Help Begin: BankAccounts -->

<font size="+2"><b>Bankkonten</b></font>
<br /><br />
Bestimmte Hauptbuchkonten k�nnen als Bankkonten definiert sein - dabei k�nnen Sie so viele Bankkonten wie n�tig anlegen. Als Bankkonten eingerichtete Hauptbuchkonten can be reconciled to bank statements using the matching facilities. Buchungen auf Bankkonten k�nnen Zahlungseing�nge oder Zahlungsausg�nge sein, das k�nnen auch Sammelbuchungen sein, die aber f�r die Zwecke der Zuordnung der Kontoausz�ge vorbehalten sind. Mit dem Vorgang zur Erfassung von Bankzahlungen k�nnen Sie auch eine Vielzahl anderer Hauptbuchkonten ansprechen, aber nur eine Position f�r das Bankkonto. Dieser Vorgang erlaubt es auch, Ausgangszahlungen an Kreditoren anzulegen. Analog dazu k�nnen mit dem Vorgang Zahlungseingang eine Reihe von Eing�ngen von den Unterschiedlichsten Kunden erfasst werden, die in einem Betrag zusammen dem Bankkonto gutgeschrieben werden. Dabei erscheint nur ein Betrag als Summe dieser Buchungen auf dem Bankkonto. Dieser Bankkontenvorgang ist auf die Zuordnung von Zahlungseing�ngen ausgehend vom Kontoauszug eingerichtet worden.
<br /><br />
Wenn alle Zahlungseing�nge und Ausgangszahlungen mit den Kontoausz�gen abgeglichen werden, so ist der Ausdruck des Bankauszuges der Nachweis f�r alle Buchungen auf dem  entsprechenden Hauptbuchkonto
<br /><br />
Bankkonten k�nnen �ber Hauptmen� &rarr; Einstellungen &rarr; Allgemeines &rarr; Hausbankkonten eingerichtet werden. Es besteht die M�glichkeit, den Namen des Kontos, die Kontonummer und die Anschrift der Bank einzugeben und den Verweis auf das Sachkonto auszuw�hlen, auf dem die Betr�ge im Hauptbuch abgebildet werden. Es sind auch Links zum Bearbeiten der vorhandenen Bankkonten und zum L�schen vorhanden. Wenn jedoch bereits Buchungen f�r das Bankkonto vorhanden sind, haben Sie nicht mehr die M�glichkeit es zu l�schen und Sie k�nnen auch das zugeordnete Sachkonto nicht mehr �ndern. Die Bankbelege m�ssten zuerst gel�scht werden (abe es gibt momentan kein Werkzeug dazu).

<!-- Help End: BankAccounts -->

<br /><br />

<!-- Help Begin: Payments -->

<font size="+1"><b>Zahlungsausg�nge</b></font>
<br /><br />
Aus dem Hauptmen� &rarr; Hauptbuchhaltung &rarr; Vorg�nge w�hlen Sie Zahlungsausg�nge.
<br /><br />
Die folgenden Daten sind erforderlich:
<br /><br />
<ul>
<li>Die Bankkontonummer, von der die Zahlung erfolgt ist oder erfolgen soll. Ein Auswahlk�stchen erm�glicht die Auswahl aus den definierten Bankkonten.</li>
<li>Das Datum, an welchem die Zahlung erfolgt. Dies ist wichtig, weil die Buchungsperiode aus diesem Datum ermittelt wird. Das System schl�gt den heutigen Tag vor. Wenn Sie Bankausz�ge erfassen, m�ssen Sie dieses Datum auf das entsprechende Buchungsdatum �ndern.</li>
<li>Die W�hrtung in der die Zahlung erfolgt ist. Die Buchungen auf alle Bankkonten werden in der Hausw�hrung vorgenommen. Alle Bankkonten werden in Hausw�hrung gef�hrt, es gibt keine M�glichkeiten f�r Bankkonten in Fremdw�hrung. Das System schl�gt die Hausw�hrung f�r diese Buchung vor.</li>
<li>Den Umrechnungskurs - Wenn die Buchung in der Hausw�hrung ausgef�hrt wird, muss der Kurs 1 sein. Wenn in einer anderen W�hrung gezahlt wird, sollten Sie den Kurs eingeben, zu dem der Einkauf erfolgt ist.</li>
<li>Den Buchungstext - der auf die gesamte Zahlung zutrifft. Buchungstexte zu den einzelnen Belegpositionen k�nnen gesondert erfasst werden.</li>
</ul>
Zahlungen k�nnen auf zweierlei Weise ausgef�hrt werden, als Zahlungsausgang im Hauptbuch sowie als Zahlungsausgang an einen Lieferanten. Die Zahlungsausg�nge im Hauptbuch erfordern die Angabe der Kontierung, wie der Vorgang im Hauptbuch verbucht werden soll, die Kontonummer kann direkt eingegeben werden oder Sie haben die M�glichkeit  die Kontonummer aus dem Auswahlk�stchen auszuw�hlen. Ein Buchungstext kann au�erdem erfasst werden - und der Zahlbetrag muss eingegeben werden. Der Gesamtzahlbetrag wird aus der Summe der eingegebenen Posten ermittelt. Wenn die Summe der Positionen negativ ist, dann wird dies als negative Zahlung erfasst, diese wird verwendet, um Fehlbuchungen zu stornieren.

<!-- Help End: Payments -->

<br /><br />
<font size="+2"><b>Einrichten der Hauptbuchintegration</b></font>
<br /><br />
Jede Buchung wird an zwei Stellen dokumentiert, z. B. auf dem Bankkonto und dem Aufwandskonto, wof�r die Zahlung erfolgt ist (B�robedarf, Benzin, Bewirtung, Werbungskosten oder was immer) (doppelte Buchf�hrung). Eine Position wird links im Soll gebucht, die andere rechts auf der Habenseite, wenn Sie sich die Probebilanz ansehen ist die Summe aller Sollsalden gleich der Summe der Habensalden.
<br /><br />
Die Nebenb�cher Debitoren, Kreditoren und Materialbestandsf�hrung k�nnen mit der Hauptbuchhaltung integriert werden. Sie k�nnen diese Integration aber abschalten, wenn Sie alle Schalter in den Unternehmenseinstellungen auf Nein setzen.
<br /><br />
<br />
Die Integration der Nebenbuchhaltungen bieten eine gute M�glichkeit, die Hauptbuchkonten mit den Buchungen aus den Nebenb�chern auf dem aktuellen Stand zu halten.
<br />
<br />
Sie k�nnen zwischen zwei Ebenen der Integration w�hlen:
<br />
<br />
1. Das Hauptbuch nur auf der Ebene Debitoren und Umsatzerl�se integrieren
<br />
<br />
Damit werden Journalbuchungen f�r jeden Verkauf wie folgt angelegt:
<br />
<br />
Im Soll das Sammelkonto f�r Debitorenforderungen, wie es in den Unternehmenseinstellungen hinterlegt ist.
<br />
Im Haben das Erl�skonto, das in Abh�ngigkeit vom Vertriebsbereich des Kunden, der Warengruppe der verkauften Produkte und der Umsatzart/Preisliste des Kunden ergibt. Das erlaubt eine sehr flexible Zuordnung der Erl�skonten. Es ist auch m�glich, nur ein einziges Erl�skonto f�r den Vertriebsbereich ANY die Warengruppe ANY und die Umsatzart ANY zu verwenden.
<br />
Im Haben das Steuerkonto, welches im Steuerschl�ssel hinterlegt ist.
<br />
Die umgekehrte Kontoseite w�rde f�r eine Gutschrift zutreffen.
<br />
Wenn Geld eingeht:
<br />
Im Haben das Sammelkonto f�r Forderungen, wie es in den Unternehmenseinstellungen hinterlegt ist.
Im Soll das Bankkonto, welche als Bankkonto eingerichtet ist.
<br />
Es gibt auch noch Konten f�r Rabatte und Kursdifferenzen, diese wurden zum Zwecke dieser Einf�hrung erst einmal beiseite gelassen.
<br />
Diese Integrationsebene sichert, dass die Summe aller Debitorensalden (in Hausw�hrung) immer mit dem Saldo des Sammelkontos f�r Forderungen �bereinstimmt.
<br /><br />
2. Auch die Integration der Bestandsbuchhaltung wird eingerichtet
<br /><br />
F�r jeden Verkauf:
<br />
<br />
Im Haben der Wareneinstandswert der verkauften Materialien, das Bestandskonto ist in der Definition der Warengruppe hinterlegt.
<br />
Im Soll die Herstellkosten der verkauften Waren. Diese Konten sind in vergleichbarer Detaillierung in den Einstellungen f�r die Debitoren/Kreditorenbuchhaltung hinterlegt.
<br />
<br />
Der umgekehrte Buchungssatz gilt f�r Gutschriften.
<br />
<br />
Das erlaubt es dass der Bestand an Umlaufmitteln st�ndig im Hauptbuch fortgeschrieben wird. Die Bewertung des Bestandes erfolgt dabei zu Standardkosten.
<br />
<br />
Diese Integrationsebene hat auch Auswirkungen auf Bestandsanpassungen, Lieferungen und Standardpreis-�nderungen.
<br />
<br />
F�r Bestandskorrekturen wird die korrigierte Menge mit den Standardkosten bewertet und im Soll zugeschrieben oder im Haben abgeschrieben.
<br />
<br />
F�r Wareneing�nge wird die eingegangene Menge mit den Standardkosten bewertet und die Buchung lautet:
<br />
<br />
Im Soll: eingegangene Menge x Standardkosten, als Bestandskonto wird das in der Warengruppe des eingegangenen Materials hinterlegte Konto verwendet.
<br />
Im Haben: das Verrechnungskonto f�r Wareneing�nge, dieses Konto ist in den Unternehmenseinstellungen hinterlegt.
<br /><br />
Die zwei Ebenen der Hauptbuchintegration sind:
<ul>
<li>Umsatzbuchungen, die im Haben auf ein Erl�skonto, im Soll auf ein Konto f�r Rabatt, im Haben auf ein Umsatzsteuerkonto, im Haben auf ein Fracht-Verrechnungskonto und im Soll auf ein Forderungskonto bucht. F�r Gutschriften / Stornierungen sind die Kontoseiten umgekehrt. Diese Integrationsebene l�st auch Journalbuchungen f�r Debitorzahlungen aus. Das Bannkonto wird im Soll, das Forderungskonto im Haben bebucht.</li>
<li>Bestandsbuchungen die im Soll das Konto Herstellkosten des Umsatzes und im Haben ein Materialbestandskonto ansprechen, das Umgekehrte gilt f�r Gutschriften.</li>
</ul>
<br /><br />
Die Ebene der Hauptbuchintegration wird durch die Schalter in den Unternehmenseinstellungen bestimmt.
<br /><br />

<!-- Help Begin: SalesGLPostings -->

<font size="+1"><b>Umsatzpositionen</b></font>
<br /><br />
Die bebuchten Sachkonten werden durch eine Reihe von Parametern festgelegt.
<br /><br />
<ul>
<li>Durch den Vertriebsbereich des Kunden</li>
<li>die Umsatzart / Preislieste des Kunden</li>
<li>die Warengruppe des verkauften Materials</li>
</ul>
Im Kontenplan wird eine Liste von Erl�skonten eingerichtet und diese werden als Kontenfindungen in den Einstellungen der Debitoren/Kreditoren hinterlegt. Wenn eine Lieferung/Rechnung erstellt wird, ruft das Programmskript ConfirmDispatch_Invoce.php eine Funktion in GetSalesTransGLCode.inc auf, die das betreffende Sachkonto ermittelt. Das geschieht normalerweise nach der folgenden Logik:
<br /><br />
<ul>
<li>Wenn in der Tabelle SalesGLPostings ein Eintrag mit passendem Vertriebsbereich, Umsatzart und Warengruppe gefunden wird, gibt die Funktion das Erl�skonto und das Konto f�r Rabatte zur�ck.</li>
<li>Wenn noch kein Treffer erfolgte, wird gepr�ft, ob ein Eintrag f�r den eingegebenen Vertriebsbereich und die eingegebene Umsatzart, aber die Default-Warengruppe ANY vorhanden ist, wenn das zutrifft, werden die dort hinterlegten Konten �bernommen.</li>
<li>Dann wird gepr�ft, die eingegebene Umsatzart und die eingegebene Warengruppe mit dem Default-Vertriebsbereich (AN) passt und wenn vorhanden, verwendet.</li>
<li>Als n�chstes wird die eingegebene Warengruppe mit dem Default-Vertriebsbereich und der Default-Umsatzart (AN) gepr�ft und gegebenenfalls verwendet.</li>
<li>Wenn nach dem Suchen immer noch nichts gefunden wurde, so gilt der Standardeintrag f�r Vertriebsbereich AN, Umsatzart AN und Warengruppe ANY, das ist das Sachkonto 1. Sollte dieses nicht existieren, legt das System automatisch ein solches Konto 1 an.</li>
</ul>
Wegen der Logik, nach der das Sachkonto in dieser Funktion bestimmt wird, ist es relativ einfach die Kontenfindung an die f�r das Unternehmen angemessene Weise anzupassen.
<br /><br />
Das Verrechungskonto f�r die Versandkosten und das Sammelkonto f�r Debitorenforderungen sind in den Unternehmenseinstellungen festgelegt.
<br /><br />
Das Umsatzsteuerkonto ergibt sich aus der Liste der Steuerschl�ssel in der Steuergruppe des Kunden

<!-- Help End: SalesGLPostings -->

<br /><br />

<!-- Help Begin: COGSGLPostings -->

<font size="+1"><b>Bestandsbuchungen</b></font>
<br /><br />
Die verwendeten Sachkonten werden auf der Grundlage des Vertriebsbereiches, der Umsatzart/Preisliste und der Warengruppe der verkauften Materialien bestimmt. �hnlich wie f�r die Bestimmung der Erl�skonten werden die Konten in einer Kontenfindungstabelle gehalten und k�nnen unter Einstellungen Debitoren/Kreditoren gepflegt werden. Es wird die gleiche Logik f�r die Bestimmung des Konten verwendet wie oben f�r die Erl�skonten beschrieben, die Funktion GetCOGSGLAccount ist im selben GetSalesTransGLCode.inc enthalten und kann bei Bedarf einfach angepasst werden.
<br /><br />
Das im Haben zu bebuchende Bestandskonto wird �ber die Warengruppe des berechneten Materials bestimmt. Es wird die Warengruppe zur Materialposition gelesen und das dort gefundene Bestandskonto �bernommen.
<br /><br />
Die Erfolgskonten f�r Bestandskorrekturen werden ebenso �ber die Warengruppe ermittelt.
<br /><br />
Auch das Erfolgskonto f�r die Preisabweichungen zwischen den Standardkosten und den Istkosten eines eingekauften Materials wird �ber die Warengruppe gefunden.

<!-- Help End: COGSGLPostings -->

<br /><br />
<font size="+2"><b>EDI</b></font>
<br /><br />
EDI steht f�r Electronic Data Interchange - den elektronischen Datenaustausch von Buchungsinformationen zwischen Gesch�ftspartnern. Es gibt viele Standards f�r die Verschl�sselung solcher Vorg�nge, weit verbreitet ist der EDIFACT-Standard der Vereinten Nationen und davon abgeleitet die EANCOM-Variante. Tats�chlich nutzen viele Brachen die Standformate in leicht abgewandeltet Weise, und einzelne Unternehmen innerhalb ihrer Branche wiederum vom Branchenstandard leicht abgewandelt. So sind letztendlich die Standards tats�chlich nur als Rahmenwerk zu gebrauchen, wie die Nachrichten aussehen sollten. Bei der Umsetzung von EDI in webERP ist einige Flexibilit�t im Format der zu sendenden und zu empfangenden Nachrichten vorgesehen. EDI-Meldungen werden als Textdatei in dem Verzeichnis angelegt, das in der Konfiguration f�r ausgehende EDI-Meldungen hinterlegt ist und auch die Protokolle der gesendeten Meldungen aufnimmt. Die Nachrichten k�nnen als Email-Anhang versendet werden oder per FTP an eine vom Kunden genannte IP-Adresse hochgeladen werden (ftp-Benutzer und Passwort nennt Ihnen der Kunde).
<br /><br />

<!-- Help Begin: CustEDISetup -->

<font size="+1"><b>EDI einrichten</b></font>
<br /><br />
Um EDI-Belege f�r einen Kunden einzurichten, w�hlen Sie zuerst den Kunden in der Kundensuche aus und klicken dann auf den Link Kunden-EDI-konfiguration. Diese Seite erlaubt die Auswahl der Vorg�nge, die elektronisch �bermittelt werden sollen, momentan sind nur die Nachrichtenarten INVOIC f�r das Versenden von Rechnungen und Gutschriften und ORDER f�r das Empfangen von Kundenauftr�gen unterst�tzt. Die Nachrichtenarten m�ssen einzen aktiviert und eingerichtet werden. Jeder Kunde muss folgende Angaben haben:
<br /><br />
<ul>
<li>Den EDI-Referenz-Code, durch den der Kunde identifiziert wird.</li>
<li>Die Kommunikationsart und die Adresse, an die Rechnungen und Gutschriften versendet werden, entweder als Email-Dateianhang oder per FTP-Upload.</li>
</ul>
Wenn die Kommunikationsart auf FTP gesetzt werden soll, muss dies von PHP zur Verf�gung gestellt werden (mit dem Flag -enable-ftp kompiliert, die meisten Windows-PHP-Installationen haben das jetzt von Haus aus). Wenn Sie diese Auswahl zwischensichern, erhalten Sie auch die Felder f�r FTP-Server-Benutzer und -Passwort  eingabebereit.
<br /><br />
Um das Versenden von EDI-Rechnungen zu aktivieren, muss das Skript EDISendInvoices.php mit cron oder einem anderen Scheduler eingeplant werden. Das Skript kann auch von der Hilfsprogrammseite Z_index.php manuell aufgerufen werden und gibt auch Informationen f�r die Fehlersuche aus.
<br /><br />
Um das Entgegennehmen von EDI-Auftr�gen zu aktivieren, muss das Skript EDIProcessOrders.php mit cron oder einem anderen Scheduler eingeplant werden.
<br /><br />
<font size="+1"><b>Versenden von EDI-Rechnungen</b></font>
<br /><br />
EDI-Nachrichten bestehen aus einzelnen Segmenten, die in einer bestimmten Reihenfolge angeordnet werden. Weil Kunden die EDI-Nachrichten in geringf�gig voneinander abweichenden Formaten ben�tigen, kann das genaue Format in der Tabelle EDIMessageFormat konfiguriert werden. Diese Tabelle hat f�r jede Rechnungszeile einen Datensatz und die Angabe der Reihenfolge wann diese in der Nachricht erscheint. Das Feld Zeilentext in dieser Tabelle kann alle vordefinierten EDI-Variablen enthalten, sie sind durch [ und ] eingeklammert, um anzugeben, dass es sich um Variablen handelt, die durch den entsprechenden Wert ersetzt werden.
<br /><br />
<table>
<tr><th colspan="2">EDI-Format INVOIC, Kopfteil</th></tr>
<tr>
<td>
EDITransNo
</td>
<td>
die eindeutige EDI-Belegnummer
</td>
</tr>
<tr>
<td>
InvOrCrd
</td>
<td>
ob es sich bei dem Beleg um eine Rechnung oder eine Gutschrift handelt. Der Wert dieser Variablen ist eine von der EANCOM festgelegte Zahl, 388 steht f�r eine Rechnung, 381 f�r eine Gutschrift.
</td>
</tr>
<tr>
<td>
TransNo
</td>
<td>
die Belegnummer der Rechnung oder Gutschrift
</td>
</tr>
<tr>
<td>
OrigOrDup
</td>
<td>
ob es sich um ein Original oder eine Kopie handelt. Der Wert dieser Variablen ist eine von der EANCOM festgelegte Zahl, 7 steht f�r eine Kopie, 9 f�r ein Original.
</td>
</tr>
<tr>
<td>
TranDate
</td>
<td>
das Buchungsdatum im Format CCYYMMDD
</td>
</tr>
<tr>
<td>
OrderNo
</td>
<td>
die Bestellnummer - nur bei Rechnungen
</td>
</tr>
<tr>
<td>
CustBranchCode
</td>
<td>
der interne Schl�ssel f�r die Niederlassung des Kunden
</td>
</tr>
<tr>
<td>
CompanyEDIReference
</td>
<td>
die EDI-Nummer des Kunden, das ist seine ELN-Nummer
</td>
</tr>
<tr>
<td>
BranchName
</td>
<td>
Name der Niederlassung, siehe Debitorenstammdaten
</td>
</tr>
<tr>
<td>
BranchStreet
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
BranchCity
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
BranchState
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
TaxAuthorityRef
</td>
<td>
die Umsatzsteuer-ID des Unternehmens
</td>
</tr>
<tr>
<td>
DatePaymentDue
</td>
<td>
das F�lligkeitsdatum f�r diese Rechnung
</td>
</tr>
<tr>
<td>
TaxTotal
</td>
<td>
der Steuergesamtbetrag aus dieser Buchung
</td>
</tr>
</table>
<table>
<tr><th colspan="2">EDI-Format INVOIC, Positionsteil - f�r die Belegpositionen</th></tr>
<tr>
<td>
LineNumber
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
StockID
</td>
<td>
die webERP-Materialnummer
</td>
</tr>
<tr>
<td>
CustStockID
</td>
<td>
die interne Materialnummer des Kunden f�r dieses Material
</td>
</tr>
<tr>
<td>
ItemDescription
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
QtyInvoiced
</td>
<td>
die berechnete (oder gutgeschriebene) Menge
</td>
</tr>
<tr>
<td>
LineTotalExclTax
</td>
<td>
der Nettowert der Position
</td>
</tr>
<tr>
<td>
UnitPrice
</td>
<td>
der Einzelpreis des Materials
</td>
</tr>
<tr>
<td>
LineTaxAmount
</td>
<td>
der Steuerbetrag aus der Position
</td>
</tr>
</table>
<table>
<tr><th colspan="2">EDI-Format INVOIC, Summenteil</th></tr>
<tr>
<td>
NoLines
</td>
<td>
die Gesamtzahl der Positionen der Rechnung oder Gutschrift
</td>
</tr>
<tr>
<td>
TotalAmountExclTax
</td>
<td>
der Rechnungsnettobetrag
</td>
</tr>
<tr>
<td>
TotalAmountInclTax
</td>
<td>
der Rechnungsbruttobetrag
</td>
</tr>
<tr>
<td>
NoSegments
</td>
<td>
die Gesamtzahl von Segmenten in dieser Nachricht wird zur Kontrolle im Summenteil ben�tigt
</td>
</tr>
</table>
Deswegen gibt es eine gro�e Flexibilit�t darin wie die Nachrichten definiert werden. Die Variablen f�r den Kopf- und Summenteil d�rfen in allen Bereichen verwendet werden, die Variablen f�r den Postionsteil stehen nur f�r die einzelnen Positionen zur Verf�gung.
<br /><br />
Die meisten Kunden werden verlangen, dass die Niederlassung, an die die Waren geliefert werden, nach einem Schl�sselsystem des Kunden identifiziert werden. Es muss deshalb sichergestellt werden, dass dieser Schl�ssel im Stammsatz der Kundenniederlassung richtig eingetragen ist. Die Variable CustBranchCode wird vom Niederlassungsstammsatz gelesen, und wenn die Angabe fehlt, f�hrt der EDI-Beleg zum Fehler.
<br /><br />
Einige Kunden k�nnten auch verlagen, dass die Materialnummer des Kunden angegeben wird und nicht die Materialnummer aus webERP. Die Variable CustStockID wird aus der Tabelle EDIItemMapping ermittelt, in der f�r jedes Material, das ein solcher Kunde kauft ein entsprechender Eintrag angelegt werden muss.
<br /><br />
Das Skript, das die EDI-Rechnungen erstellt (EDISendInvoices.php) sollte automatisch als zeitgesteuerte Aufgabe im Hintergrund laufen. Dieses Skript ermittelt zuerst eine Liste aller Kunden, die EDI-Rechnungen oder -Gutschriften erhalten sollen (aus den Eintr�gen ihrer EDI-Konfiguration). Dann geht das Skript alle so ermittelten Kunden durch und pr�ft, ob noch irgendwelche Rechnungen oder Gutschriften nicht gesendet sind. F�r jede Rechnung oder Gutschrift wird eine Textdatei erstellt und mit der entsprechenden Kommunikationsart, Adresse und den entsprechenden EDI-Parametern des Kunden versendet. Es gibt einen Link, mit dem dieses Skript manuell ausgef�rht werden, kann, dabei werden auch die EDI-Nachrichten angezeigt.
<!-- Help End: CustEDISetup -->
